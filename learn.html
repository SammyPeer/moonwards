	<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Moonwards</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">
<style>
	      .icons{
        position: absolute;
        margin-top: 60px;
        margin-left: -132px;
      }
</style>
        <link rel="stylesheet" href="normalize.css">
        <link rel="stylesheet" href="main.css">
<link rel="stylesheet" href="cssportal.tooltip.css">
<link href='http://fonts.googleapis.com/css?family=Titillium+Web:400,300,400italic,600,200'
rel='stylesheet' type='text/css'>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.3.min.js"><\/script>')</script>
<script src="js/plugins.js"></script>
<script src="js/main.js"></script>
<script src="js/vendor/modernizr-2.8.3.min.js"></script>
<script src="js/jquery.tooltipster.min.js"></script>
<script src="js/jquery-ui.min.js"></script>
    </head>
    <body>
    <!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-TN8NFC"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TN8NFC');</script>
<!-- 'End Google Tag Manager -->
        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. 
            Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
	<header>
	<a href="index.html" style="background-color:transparent;">
	<img src="http://www.moonwards.com/img/MWLogo-for-black-bckgnd.svg" alt="Moonwards logo" id="logo">
	</a>
	  	<nav>
	  	<div id="nav">
  		<ul>
  			<li><a href="index.html">the VMC</a>
  				<ul>
  					<li><a href="index.html#colony">Colony Phase 1</a>
  					</li>
  					<li><a href="index.html#mission1">Mission 1</a>
  					</li>
  					<li><a href="index.html#mission2">Mission 2</a>
  					</li>
  				</ul>
  			</li>
  			<li><a href="planning.html">Plan</a>
  				<ul>
  					<li><a href="planning.html#equipment">Equipment</a></li>
  					<li><a href="planning.html#structures">Structures</a></li>
  					<li><a href="planning.html#environment">Environment</a></li>
  				</ul>
  			</li>
  			<li><a href="learn.html">Learn</a>
  				<ul>
  					<li><a href="learn.html#calculators">Calculators</li>
  				</ul>
  			<li><a href="about.html">Why</a>
  				<ul>
  					<li><a href="about.html#plans">Plans Today</a></li>
  					<li><a href="about.html#about">About Us</a></li>
  				</ul>
  			</li>
  			<li><a href="http://www.moonwards.com/forum/">Forum</a></li>
  		</ul>
  		</div>
  	</nav>
	</header>
<div id="container">
    <div class="rowR" id="calculators">
        <h2 class="col-4 col-m-5">Calculators</h2>
        <div id="sigStuff" class="black">
            <div class="rowR">
            	<h3>The Rocket Equation</h3>
                <div class="darkYellow pix">
                    <p>Mass ratio:</p>
                    <input type="text" placeholder="Start mass divided by end mass" value="" id="massratioRE">
                    <p>Exhaust velocity: (m/s)</p>
                    <input type="text" placeholder="Velocity of the rocket exhaust" value="" id="exhaustvelocityRE">
                    <input type="checkbox" id="ispcheckboxRE">use Isp instead
                    <br><br>
                    <button onclick="rocket()">Calculate!</button>
                    <p id="resultRE">.</p>
                </div>
                <h3>Suborbital Hop</h3>
                <div class="roundAll">
                    <p>Initial location:</p>
                    Latitude <input type="text" placeholder="(degrees)" value="" id="latitudeSH">
                    Longitude <input type="text" placeholder="(degrees)" value="" id="longitudeSH">
                    <p>Destination location:</p>
                    Latitude <input type="text" placeholder="(degrees)" value="" id="destinationlatitudeSH">
                    Longitude <input type="text" placeholder="(degrees)" value="" id="destinationlongitudeSH"><br>
                    <div>
                        <img src="mapmini.gif" width="256" height="128">
                        <img src="icon.png" class="icons" id="initialicon" width="9" height="9">
                        <img src="icon.png" class="icons" id="destinationicon" width="9" height="9">
                    </div>
                    <br><br>
                    <button onclick="subhop()">Calculate!</button>
                    <p id="resultSH">.</p>
                    <p>More about suborbital hops <a href="http://hopsblog-hop.blogspot.com/2015/08/lunar-pogo-hopper.html">here</a>, by Hop David.</p>
                </div>
                <br>
                <a href="http://www.wtfpl.net/">
                    <img src="http://www.wtfpl.net/wp-content/uploads/2012/12/wtfpl-badge-4.png"width="80"height="15"alt="WTFPL"/>
                </a>
            </div>
        </div>
<script>
//Just move the script to a sepparate file if you want.
//Global stuff
idIcon = 0;
//A few values used a lot:
g = 9.80665; //m/s^2
moonRadius = 1738000; //m
moonGparameter = 4904869590000; //G*M
//Common opperations:
rad = function(degrees){ //for converting to radians
  return degrees/180 * Math.PI;
};
toXYZ = function(long,lat){//transform coordinates from angular to cartesian
  x = Math.cos(rad(long)) * Math.cos(rad(lat)) * moonRadius;
  y = Math.sin(rad(long)) * Math.cos(rad(lat)) * moonRadius;
  z = Math.sin(rad(lat)) * moonRadius;
  return [x,y,z];
};
//main functions:
rocket = function(){
  var ispcheck = document.getElementById("ispcheckboxRE").checked;
  var just = 1;
  if(ispcheck){just = g};
  var exhaust = Number(document.getElementById("exhaustvelocityRE").value);
  var massratio = Number(document.getElementById("massratioRE").value);
  var result = Math.log(massratio) * exhaust * just;
  result = Math.round(result*100)/100;
  document.getElementById("resultRE").innerHTML = "Delta-v: <b>" + result + " m/s</b>";
};
subhop = function(){
//inputs
  var longitude1 = (Number(document.getElementById("longitudeSH").value))%360; //connect to input forms or whatever
    if(longitude1 < -180){longitude1 += 360}else if(longitude1 > 180){longitude1 -= 360};
  var latitude1 = (Number(document.getElementById("latitudeSH").value))%360;
  var longitude2 = (Number(document.getElementById("destinationlongitudeSH").value))%360;
    if(longitude2 < -180){longitude2 += 360}else if(longitude2 > 180){longitude2 -= 360};
  var latitude2 = (Number(document.getElementById("destinationlatitudeSH").value))%360;
//main
  var cords1 = toXYZ(longitude1,latitude1);
  var cords2 = toXYZ(longitude2,latitude2);
  var distance = Math.sqrt(Math.pow(cords1[0] - cords2[0],2) + Math.pow(cords1[1] - cords2[1],2) + Math.pow(cords1[2] - cords2[2],2));
  var semimajor = moonRadius/2 + distance/4;
//output
  var totalDeltav = 2*Math.sqrt(moonGparameter * (2/moonRadius - 1/semimajor));
  totalDeltav = Math.round(totalDeltav*100)/100;
  document.getElementById("resultSH").innerHTML = "Delta-v: <b>" + totalDeltav + " m/s</b> ("+Math.round((totalDeltav/3359.84)*100)+"% of an orbital mission)";
//optional:  distance (not implemented)
//graphics:
  var xcoord1 = (longitude1 - 180)*256/360 - 4;
  var ycoord1 = (90 - latitude1)*128/180 - 4;
  var xcoord2 = (longitude2 - 180)*256/360 - 4;
  var ycoord2 = (90 - latitude2)*128/180 - 4;
  document.getElementById("initialicon").style.marginLeft = xcoord1+"px";
  document.getElementById("initialicon").style.marginTop = ycoord1+"px";
  document.getElementById("destinationicon").style.marginLeft = xcoord2+"px";
  document.getElementById("destinationicon").style.marginTop = ycoord2+"px";
};
</script>
    </div>
</div>
    </body>
</html>
